{"version":3,"sources":["../../src/lib/get-files-in-dir.ts"],"sourcesContent":["import { join } from 'path'\nimport fs from 'fs/promises'\nimport type { Dirent, StatsBase } from 'fs'\n\nexport async function getFilesInDir(path: string): Promise<string[]> {\n  const dir = await fs.opendir(path)\n  const results = []\n\n  for await (const file of dir) {\n    let resolvedFile: Dirent | StatsBase<number> = file\n\n    if (file.isSymbolicLink()) {\n      resolvedFile = await fs.stat(join(path, file.name))\n    }\n\n    if (resolvedFile.isFile()) {\n      results.push(file.name)\n    }\n  }\n\n  return results\n}\n"],"names":["getFilesInDir","path","dir","fs","opendir","results","file","resolvedFile","isSymbolicLink","stat","join","name","isFile","push"],"mappings":";;;;+BAIsBA;;;eAAAA;;;sBAJD;iEACN;;;;;;AAGR,eAAeA,cAAcC,IAAY;IAC9C,MAAMC,MAAM,MAAMC,iBAAE,CAACC,OAAO,CAACH;IAC7B,MAAMI,UAAU,EAAE;IAElB,WAAW,MAAMC,QAAQJ,IAAK;QAC5B,IAAIK,eAA2CD;QAE/C,IAAIA,KAAKE,cAAc,IAAI;YACzBD,eAAe,MAAMJ,iBAAE,CAACM,IAAI,CAACC,IAAAA,UAAI,EAACT,MAAMK,KAAKK,IAAI;QACnD;QAEA,IAAIJ,aAAaK,MAAM,IAAI;YACzBP,QAAQQ,IAAI,CAACP,KAAKK,IAAI;QACxB;IACF;IAEA,OAAON;AACT"}