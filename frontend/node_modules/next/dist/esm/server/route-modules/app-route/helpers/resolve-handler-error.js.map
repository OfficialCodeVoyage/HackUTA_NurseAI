{"version":3,"sources":["../../../../../src/server/route-modules/app-route/helpers/resolve-handler-error.ts"],"sourcesContent":["import { isNotFoundError } from '../../../../client/components/not-found'\nimport {\n  getURLFromRedirectError,\n  isRedirectError,\n  getRedirectStatusCodeFromError,\n} from '../../../../client/components/redirect'\nimport {\n  handleNotFoundResponse,\n  handleRedirectResponse,\n} from '../../helpers/response-handlers'\n\nexport function resolveHandlerError(err: any): Response | false {\n  if (isRedirectError(err)) {\n    const redirect = getURLFromRedirectError(err)\n    if (!redirect) {\n      throw new Error('Invariant: Unexpected redirect url format')\n    }\n\n    const status = getRedirectStatusCodeFromError(err)\n\n    // This is a redirect error! Send the redirect response.\n    return handleRedirectResponse(redirect, err.mutableCookies, status)\n  }\n\n  if (isNotFoundError(err)) {\n    // This is a not found error! Send the not found response.\n    return handleNotFoundResponse()\n  }\n\n  // Return false to indicate that this is not a handled error.\n  return false\n}\n"],"names":["isNotFoundError","getURLFromRedirectError","isRedirectError","getRedirectStatusCodeFromError","handleNotFoundResponse","handleRedirectResponse","resolveHandlerError","err","redirect","Error","status","mutableCookies"],"mappings":"AAAA,SAASA,eAAe,QAAQ,0CAAyC;AACzE,SACEC,uBAAuB,EACvBC,eAAe,EACfC,8BAA8B,QACzB,yCAAwC;AAC/C,SACEC,sBAAsB,EACtBC,sBAAsB,QACjB,kCAAiC;AAExC,OAAO,SAASC,oBAAoBC,GAAQ;IAC1C,IAAIL,gBAAgBK,MAAM;QACxB,MAAMC,WAAWP,wBAAwBM;QACzC,IAAI,CAACC,UAAU;YACb,MAAM,IAAIC,MAAM;QAClB;QAEA,MAAMC,SAASP,+BAA+BI;QAE9C,wDAAwD;QACxD,OAAOF,uBAAuBG,UAAUD,IAAII,cAAc,EAAED;IAC9D;IAEA,IAAIV,gBAAgBO,MAAM;QACxB,0DAA0D;QAC1D,OAAOH;IACT;IAEA,6DAA6D;IAC7D,OAAO;AACT"}