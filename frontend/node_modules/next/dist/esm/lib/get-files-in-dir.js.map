{"version":3,"sources":["../../src/lib/get-files-in-dir.ts"],"sourcesContent":["import { join } from 'path'\nimport fs from 'fs/promises'\nimport type { Dirent, StatsBase } from 'fs'\n\nexport async function getFilesInDir(path: string): Promise<string[]> {\n  const dir = await fs.opendir(path)\n  const results = []\n\n  for await (const file of dir) {\n    let resolvedFile: Dirent | StatsBase<number> = file\n\n    if (file.isSymbolicLink()) {\n      resolvedFile = await fs.stat(join(path, file.name))\n    }\n\n    if (resolvedFile.isFile()) {\n      results.push(file.name)\n    }\n  }\n\n  return results\n}\n"],"names":["join","fs","getFilesInDir","path","dir","opendir","results","file","resolvedFile","isSymbolicLink","stat","name","isFile","push"],"mappings":"AAAA,SAASA,IAAI,QAAQ,OAAM;AAC3B,OAAOC,QAAQ,cAAa;AAG5B,OAAO,eAAeC,cAAcC,IAAY;IAC9C,MAAMC,MAAM,MAAMH,GAAGI,OAAO,CAACF;IAC7B,MAAMG,UAAU,EAAE;IAElB,WAAW,MAAMC,QAAQH,IAAK;QAC5B,IAAII,eAA2CD;QAE/C,IAAIA,KAAKE,cAAc,IAAI;YACzBD,eAAe,MAAMP,GAAGS,IAAI,CAACV,KAAKG,MAAMI,KAAKI,IAAI;QACnD;QAEA,IAAIH,aAAaI,MAAM,IAAI;YACzBN,QAAQO,IAAI,CAACN,KAAKI,IAAI;QACxB;IACF;IAEA,OAAOL;AACT"}