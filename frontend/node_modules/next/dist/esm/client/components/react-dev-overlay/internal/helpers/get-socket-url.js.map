{"version":3,"sources":["../../../../../../src/client/components/react-dev-overlay/internal/helpers/get-socket-url.ts"],"sourcesContent":["function getSocketProtocol(assetPrefix: string): string {\n  let protocol = window.location.protocol\n\n  try {\n    // assetPrefix is a url\n    protocol = new URL(assetPrefix).protocol\n  } catch {}\n\n  return protocol === 'http:' ? 'ws' : 'wss'\n}\n\nexport function getSocketUrl(assetPrefix: string): string {\n  const { hostname, port } = window.location\n  const protocol = getSocketProtocol(assetPrefix)\n  const normalizedAssetPrefix = assetPrefix.replace(/^\\/+/, '')\n\n  let url = `${protocol}://${hostname}:${port}${\n    normalizedAssetPrefix ? `/${normalizedAssetPrefix}` : ''\n  }`\n\n  if (normalizedAssetPrefix.startsWith('http')) {\n    url = `${protocol}://${normalizedAssetPrefix.split('://', 2)[1]}`\n  }\n\n  return url\n}\n"],"names":["getSocketProtocol","assetPrefix","protocol","window","location","URL","getSocketUrl","hostname","port","normalizedAssetPrefix","replace","url","startsWith","split"],"mappings":"AAAA,SAASA,kBAAkBC,WAAmB;IAC5C,IAAIC,WAAWC,OAAOC,QAAQ,CAACF,QAAQ;IAEvC,IAAI;QACF,uBAAuB;QACvBA,WAAW,IAAIG,IAAIJ,aAAaC,QAAQ;IAC1C,EAAE,UAAM,CAAC;IAET,OAAOA,aAAa,UAAU,OAAO;AACvC;AAEA,OAAO,SAASI,aAAaL,WAAmB;IAC9C,MAAM,EAAEM,QAAQ,EAAEC,IAAI,EAAE,GAAGL,OAAOC,QAAQ;IAC1C,MAAMF,WAAWF,kBAAkBC;IACnC,MAAMQ,wBAAwBR,YAAYS,OAAO,CAAC,QAAQ;IAE1D,IAAIC,MAAM,AAAGT,WAAS,QAAKK,WAAS,MAAGC,OACrCC,CAAAA,wBAAwB,AAAC,MAAGA,wBAA0B,EAAC;IAGzD,IAAIA,sBAAsBG,UAAU,CAAC,SAAS;QAC5CD,MAAM,AAAGT,WAAS,QAAKO,sBAAsBI,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE;IACjE;IAEA,OAAOF;AACT"}