{"version":3,"sources":["../../../../../../src/client/components/react-dev-overlay/internal/helpers/getRawSourceMap.ts"],"sourcesContent":["import dataUriToBuffer from 'next/dist/compiled/data-uri-to-buffer'\nimport { getSourceMapUrl } from './getSourceMapUrl'\n\nexport function getRawSourceMap(fileContents: string): unknown | null {\n  const sourceUrl = getSourceMapUrl(fileContents)\n  if (!sourceUrl?.startsWith('data:')) {\n    return null\n  }\n\n  let buffer\n  try {\n    buffer = dataUriToBuffer(sourceUrl)\n  } catch (err) {\n    console.error('Failed to parse source map URL:', err)\n    return null\n  }\n\n  if (buffer.type !== 'application/json') {\n    console.error(`Unknown source map type: ${buffer.typeFull}.`)\n    return null\n  }\n\n  try {\n    return JSON.parse(buffer.toString())\n  } catch {\n    console.error('Failed to parse source map.')\n    return null\n  }\n}\n"],"names":["dataUriToBuffer","getSourceMapUrl","getRawSourceMap","fileContents","sourceUrl","startsWith","buffer","err","console","error","type","typeFull","JSON","parse","toString"],"mappings":"AAAA,OAAOA,qBAAqB,wCAAuC;AACnE,SAASC,eAAe,QAAQ,oBAAmB;AAEnD,OAAO,SAASC,gBAAgBC,YAAoB;IAClD,MAAMC,YAAYH,gBAAgBE;IAClC,IAAI,EAACC,6BAAAA,UAAWC,UAAU,CAAC,WAAU;QACnC,OAAO;IACT;IAEA,IAAIC;IACJ,IAAI;QACFA,SAASN,gBAAgBI;IAC3B,EAAE,OAAOG,KAAK;QACZC,QAAQC,KAAK,CAAC,mCAAmCF;QACjD,OAAO;IACT;IAEA,IAAID,OAAOI,IAAI,KAAK,oBAAoB;QACtCF,QAAQC,KAAK,CAAC,AAAC,8BAA2BH,OAAOK,QAAQ,GAAC;QAC1D,OAAO;IACT;IAEA,IAAI;QACF,OAAOC,KAAKC,KAAK,CAACP,OAAOQ,QAAQ;IACnC,EAAE,UAAM;QACNN,QAAQC,KAAK,CAAC;QACd,OAAO;IACT;AACF"}