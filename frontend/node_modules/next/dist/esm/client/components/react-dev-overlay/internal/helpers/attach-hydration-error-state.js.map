{"version":3,"sources":["../../../../../../src/client/components/react-dev-overlay/internal/helpers/attach-hydration-error-state.ts"],"sourcesContent":["import {\n  isHydrationError,\n  getDefaultHydrationErrorMessage,\n} from '../../../is-hydration-error'\nimport {\n  hydrationErrorState,\n  getReactHydrationDiffSegments,\n} from './hydration-error-info'\n\nexport function attachHydrationErrorState(error: Error) {\n  if (\n    isHydrationError(error) &&\n    !error.message.includes(\n      'https://nextjs.org/docs/messages/react-hydration-error'\n    )\n  ) {\n    const reactHydrationDiffSegments = getReactHydrationDiffSegments(\n      error.message\n    )\n    let parsedHydrationErrorState: typeof hydrationErrorState = {}\n    if (reactHydrationDiffSegments) {\n      parsedHydrationErrorState = {\n        ...(error as any).details,\n        ...hydrationErrorState,\n        warning: hydrationErrorState.warning || [\n          getDefaultHydrationErrorMessage(),\n        ],\n        notes: reactHydrationDiffSegments[0],\n        reactOutputComponentDiff: reactHydrationDiffSegments[1],\n      }\n    } else {\n      // If there's any extra information in the error message to display,\n      // append it to the error message details property\n      if (hydrationErrorState.warning) {\n        // The patched console.error found hydration errors logged by React\n        // Append the logged warning to the error message\n        parsedHydrationErrorState = {\n          ...(error as any).details,\n          // It contains the warning, component stack, server and client tag names\n          ...hydrationErrorState,\n        }\n      }\n      error.message +=\n        '\\nSee more info here: https://nextjs.org/docs/messages/react-hydration-error'\n    }\n    ;(error as any).details = parsedHydrationErrorState\n  }\n}\n"],"names":["isHydrationError","getDefaultHydrationErrorMessage","hydrationErrorState","getReactHydrationDiffSegments","attachHydrationErrorState","error","message","includes","reactHydrationDiffSegments","parsedHydrationErrorState","details","warning","notes","reactOutputComponentDiff"],"mappings":"AAAA,SACEA,gBAAgB,EAChBC,+BAA+B,QAC1B,8BAA6B;AACpC,SACEC,mBAAmB,EACnBC,6BAA6B,QACxB,yBAAwB;AAE/B,OAAO,SAASC,0BAA0BC,KAAY;IACpD,IACEL,iBAAiBK,UACjB,CAACA,MAAMC,OAAO,CAACC,QAAQ,CACrB,2DAEF;QACA,MAAMC,6BAA6BL,8BACjCE,MAAMC,OAAO;QAEf,IAAIG,4BAAwD,CAAC;QAC7D,IAAID,4BAA4B;YAC9BC,4BAA4B;gBAC1B,GAAG,AAACJ,MAAcK,OAAO;gBACzB,GAAGR,mBAAmB;gBACtBS,SAAST,oBAAoBS,OAAO,IAAI;oBACtCV;iBACD;gBACDW,OAAOJ,0BAA0B,CAAC,EAAE;gBACpCK,0BAA0BL,0BAA0B,CAAC,EAAE;YACzD;QACF,OAAO;YACL,oEAAoE;YACpE,kDAAkD;YAClD,IAAIN,oBAAoBS,OAAO,EAAE;gBAC/B,mEAAmE;gBACnE,iDAAiD;gBACjDF,4BAA4B;oBAC1B,GAAG,AAACJ,MAAcK,OAAO;oBACzB,wEAAwE;oBACxE,GAAGR,mBAAmB;gBACxB;YACF;YACAG,MAAMC,OAAO,IACX;QACJ;QACED,MAAcK,OAAO,GAAGD;IAC5B;AACF"}