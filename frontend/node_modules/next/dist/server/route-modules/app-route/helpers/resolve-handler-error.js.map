{"version":3,"sources":["../../../../../src/server/route-modules/app-route/helpers/resolve-handler-error.ts"],"sourcesContent":["import { isNotFoundError } from '../../../../client/components/not-found'\nimport {\n  getURLFromRedirectError,\n  isRedirectError,\n  getRedirectStatusCodeFromError,\n} from '../../../../client/components/redirect'\nimport {\n  handleNotFoundResponse,\n  handleRedirectResponse,\n} from '../../helpers/response-handlers'\n\nexport function resolveHandlerError(err: any): Response | false {\n  if (isRedirectError(err)) {\n    const redirect = getURLFromRedirectError(err)\n    if (!redirect) {\n      throw new Error('Invariant: Unexpected redirect url format')\n    }\n\n    const status = getRedirectStatusCodeFromError(err)\n\n    // This is a redirect error! Send the redirect response.\n    return handleRedirectResponse(redirect, err.mutableCookies, status)\n  }\n\n  if (isNotFoundError(err)) {\n    // This is a not found error! Send the not found response.\n    return handleNotFoundResponse()\n  }\n\n  // Return false to indicate that this is not a handled error.\n  return false\n}\n"],"names":["resolveHandlerError","err","isRedirectError","redirect","getURLFromRedirectError","Error","status","getRedirectStatusCodeFromError","handleRedirectResponse","mutableCookies","isNotFoundError","handleNotFoundResponse"],"mappings":";;;;+BAWgBA;;;eAAAA;;;0BAXgB;0BAKzB;kCAIA;AAEA,SAASA,oBAAoBC,GAAQ;IAC1C,IAAIC,IAAAA,yBAAe,EAACD,MAAM;QACxB,MAAME,WAAWC,IAAAA,iCAAuB,EAACH;QACzC,IAAI,CAACE,UAAU;YACb,MAAM,IAAIE,MAAM;QAClB;QAEA,MAAMC,SAASC,IAAAA,wCAA8B,EAACN;QAE9C,wDAAwD;QACxD,OAAOO,IAAAA,wCAAsB,EAACL,UAAUF,IAAIQ,cAAc,EAAEH;IAC9D;IAEA,IAAII,IAAAA,yBAAe,EAACT,MAAM;QACxB,0DAA0D;QAC1D,OAAOU,IAAAA,wCAAsB;IAC/B;IAEA,6DAA6D;IAC7D,OAAO;AACT"}