{"version":3,"sources":["../../../../../../src/client/components/react-dev-overlay/internal/helpers/getRawSourceMap.ts"],"sourcesContent":["import dataUriToBuffer from 'next/dist/compiled/data-uri-to-buffer'\nimport { getSourceMapUrl } from './getSourceMapUrl'\n\nexport function getRawSourceMap(fileContents: string): unknown | null {\n  const sourceUrl = getSourceMapUrl(fileContents)\n  if (!sourceUrl?.startsWith('data:')) {\n    return null\n  }\n\n  let buffer\n  try {\n    buffer = dataUriToBuffer(sourceUrl)\n  } catch (err) {\n    console.error('Failed to parse source map URL:', err)\n    return null\n  }\n\n  if (buffer.type !== 'application/json') {\n    console.error(`Unknown source map type: ${buffer.typeFull}.`)\n    return null\n  }\n\n  try {\n    return JSON.parse(buffer.toString())\n  } catch {\n    console.error('Failed to parse source map.')\n    return null\n  }\n}\n"],"names":["getRawSourceMap","fileContents","sourceUrl","getSourceMapUrl","startsWith","buffer","dataUriToBuffer","err","console","error","type","typeFull","JSON","parse","toString"],"mappings":";;;;+BAGgBA;;;eAAAA;;;;0EAHY;iCACI;AAEzB,SAASA,gBAAgBC,YAAoB;IAClD,MAAMC,YAAYC,IAAAA,gCAAe,EAACF;IAClC,IAAI,EAACC,6BAAAA,UAAWE,UAAU,CAAC,WAAU;QACnC,OAAO;IACT;IAEA,IAAIC;IACJ,IAAI;QACFA,SAASC,IAAAA,wBAAe,EAACJ;IAC3B,EAAE,OAAOK,KAAK;QACZC,QAAQC,KAAK,CAAC,mCAAmCF;QACjD,OAAO;IACT;IAEA,IAAIF,OAAOK,IAAI,KAAK,oBAAoB;QACtCF,QAAQC,KAAK,CAAC,AAAC,8BAA2BJ,OAAOM,QAAQ,GAAC;QAC1D,OAAO;IACT;IAEA,IAAI;QACF,OAAOC,KAAKC,KAAK,CAACR,OAAOS,QAAQ;IACnC,EAAE,UAAM;QACNN,QAAQC,KAAK,CAAC;QACd,OAAO;IACT;AACF"}