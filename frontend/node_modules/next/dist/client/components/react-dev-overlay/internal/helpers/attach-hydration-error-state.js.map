{"version":3,"sources":["../../../../../../src/client/components/react-dev-overlay/internal/helpers/attach-hydration-error-state.ts"],"sourcesContent":["import {\n  isHydrationError,\n  getDefaultHydrationErrorMessage,\n} from '../../../is-hydration-error'\nimport {\n  hydrationErrorState,\n  getReactHydrationDiffSegments,\n} from './hydration-error-info'\n\nexport function attachHydrationErrorState(error: Error) {\n  if (\n    isHydrationError(error) &&\n    !error.message.includes(\n      'https://nextjs.org/docs/messages/react-hydration-error'\n    )\n  ) {\n    const reactHydrationDiffSegments = getReactHydrationDiffSegments(\n      error.message\n    )\n    let parsedHydrationErrorState: typeof hydrationErrorState = {}\n    if (reactHydrationDiffSegments) {\n      parsedHydrationErrorState = {\n        ...(error as any).details,\n        ...hydrationErrorState,\n        warning: hydrationErrorState.warning || [\n          getDefaultHydrationErrorMessage(),\n        ],\n        notes: reactHydrationDiffSegments[0],\n        reactOutputComponentDiff: reactHydrationDiffSegments[1],\n      }\n    } else {\n      // If there's any extra information in the error message to display,\n      // append it to the error message details property\n      if (hydrationErrorState.warning) {\n        // The patched console.error found hydration errors logged by React\n        // Append the logged warning to the error message\n        parsedHydrationErrorState = {\n          ...(error as any).details,\n          // It contains the warning, component stack, server and client tag names\n          ...hydrationErrorState,\n        }\n      }\n      error.message +=\n        '\\nSee more info here: https://nextjs.org/docs/messages/react-hydration-error'\n    }\n    ;(error as any).details = parsedHydrationErrorState\n  }\n}\n"],"names":["attachHydrationErrorState","error","isHydrationError","message","includes","reactHydrationDiffSegments","getReactHydrationDiffSegments","parsedHydrationErrorState","details","hydrationErrorState","warning","getDefaultHydrationErrorMessage","notes","reactOutputComponentDiff"],"mappings":";;;;+BASgBA;;;eAAAA;;;kCANT;oCAIA;AAEA,SAASA,0BAA0BC,KAAY;IACpD,IACEC,IAAAA,kCAAgB,EAACD,UACjB,CAACA,MAAME,OAAO,CAACC,QAAQ,CACrB,2DAEF;QACA,MAAMC,6BAA6BC,IAAAA,iDAA6B,EAC9DL,MAAME,OAAO;QAEf,IAAII,4BAAwD,CAAC;QAC7D,IAAIF,4BAA4B;YAC9BE,4BAA4B;gBAC1B,GAAG,AAACN,MAAcO,OAAO;gBACzB,GAAGC,uCAAmB;gBACtBC,SAASD,uCAAmB,CAACC,OAAO,IAAI;oBACtCC,IAAAA,iDAA+B;iBAChC;gBACDC,OAAOP,0BAA0B,CAAC,EAAE;gBACpCQ,0BAA0BR,0BAA0B,CAAC,EAAE;YACzD;QACF,OAAO;YACL,oEAAoE;YACpE,kDAAkD;YAClD,IAAII,uCAAmB,CAACC,OAAO,EAAE;gBAC/B,mEAAmE;gBACnE,iDAAiD;gBACjDH,4BAA4B;oBAC1B,GAAG,AAACN,MAAcO,OAAO;oBACzB,wEAAwE;oBACxE,GAAGC,uCAAmB;gBACxB;YACF;YACAR,MAAME,OAAO,IACX;QACJ;QACEF,MAAcO,OAAO,GAAGD;IAC5B;AACF"}