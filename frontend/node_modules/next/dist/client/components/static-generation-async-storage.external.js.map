{"version":3,"sources":["../../../src/client/components/static-generation-async-storage.external.ts"],"sourcesContent":["import type { AsyncLocalStorage } from 'async_hooks'\nimport type { IncrementalCache } from '../../server/lib/incremental-cache'\nimport type { DynamicServerError } from './hooks-server-context'\nimport type { FetchMetrics } from '../../server/base-http'\nimport type { Revalidate } from '../../server/lib/revalidate'\nimport type { PrerenderState } from '../../server/app-render/dynamic-rendering'\n\n// Share the instance module in the next-shared layer\nimport { staticGenerationAsyncStorage } from './static-generation-async-storage-instance' with { 'turbopack-transition': 'next-shared' }\n\nexport interface StaticGenerationStore {\n  readonly isStaticGeneration: boolean\n\n  /**\n   * The page that is being rendered. This relates to the path to the page file.\n   */\n  readonly page: string\n\n  /**\n   * The route that is being rendered. This is the page property without the\n   * trailing `/page` or `/route` suffix.\n   */\n  readonly route: string\n\n  readonly incrementalCache?: IncrementalCache\n  readonly isOnDemandRevalidate?: boolean\n  readonly isPrerendering?: boolean\n  readonly isRevalidate?: boolean\n  readonly isUnstableCacheCallback?: boolean\n\n  // When this exists (is not null) it means we are in a Prerender\n  prerenderState: null | PrerenderState\n\n  forceDynamic?: boolean\n  fetchCache?:\n    | 'only-cache'\n    | 'force-cache'\n    | 'default-cache'\n    | 'force-no-store'\n    | 'default-no-store'\n    | 'only-no-store'\n\n  revalidate?: Revalidate\n  forceStatic?: boolean\n  dynamicShouldError?: boolean\n  pendingRevalidates?: Record<string, Promise<any>>\n\n  dynamicUsageDescription?: string\n  dynamicUsageStack?: string\n  dynamicUsageErr?: DynamicServerError\n\n  nextFetchId?: number\n  pathWasRevalidated?: boolean\n\n  tags?: string[]\n\n  revalidatedTags?: string[]\n  fetchMetrics?: FetchMetrics\n\n  isDraftMode?: boolean\n  isUnstableNoStore?: boolean\n\n  requestEndedState?: { ended?: boolean }\n}\n\nexport type StaticGenerationAsyncStorage =\n  AsyncLocalStorage<StaticGenerationStore>\n\nexport { staticGenerationAsyncStorage }\n"],"names":["staticGenerationAsyncStorage"],"mappings":";;;;+BAoESA;;;eAAAA,kEAA4B;;;sDA5DQ"}